<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="page-template :: head">
        <title>WepaNews</title>
    </head>



    <body class="container">
        <nav th:replace="page-template :: topmenu"></nav>
        <div th:replace="page-template :: error"></div>
        <div th:replace="page-template :: message"></div>



        <h1>Category</h1>      
        <p>
            Lis채채 uusi:
        </p>
        
        <form th:action="@{/category}"  th:object="${category}" method="POST">
            <input th:field="*{id}" type="text">
            <table class="table">
                <tr>
                    <td>Nimi</td>
                    <td><input type="text" th:field="*{name}"/></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="submit" value="L채het채"/></td>
                </tr>
                
            </table>
        </form>

    

        <h1>Lista kategorioista</h1>
        <table class="table table-hover">
            <tr th:each="category : ${categories}">
                <td><a th:href="${'/category/'+category.id}" th:text="${category.name}"></a></td>
                <td><form th:if="${category.newsItems.isEmpty()}" th:action="${'/category/'+category.id}" th:method="DELETE"><input type="submit" value="Poista"></form></td>
            </tr>
            

        </table>

    </body>
</html>